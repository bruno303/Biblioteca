
@{
    ViewData["Title"] = "Locação de Produtos";
}

@model List<LocacaoExibicaoViewModel>

<h2 class="padding-cima-baixo">@ViewData["Title"]</h2>

<div class="row">
    <div class="col-md-12">
        <br />
        <a class="btn btn-secondary padding-cima-baixo" role="button" href="/Locacao/NovaLocacao/">Nova Locação</a>
        <br />
        <br />
        <table class="table padding-cima-baixo datatable">
            <thead>
                <tr>
                    <th class="text-center">
                        ID Locação
                    </th>
                    <th class="text-center">
                        Data
                    </th>
                    <th>
                        Cliente
                    </th>
                    <th>
                        Usuario
                    </th>
                    <th>
                        Produto
                    </th>
                    <th>
                        Devolução
                    </th>
                    <th>
                        Limite Devolução
                    </th>
                    <th>
                        Ações
                    </th>
                </tr>
            </thead>
            <tbody>
                @foreach (var item in Model)
                {
                    var strAtrasado = item.Atrasado ? "class=table-danger" : "";


                <tr @strAtrasado>
                    <td class="text-center">
                        @item.IdLocacao
                    </td>
                    <td>
                        @item.DtLocacao
                    </td>
                    <td>
                        @item.Cliente
                    </td>
                    <td>
                        @item.Usuario
                    </td>
                    <td>
                        @item.Produto
                    </td>
                    <td>
                        @{ var strDtDevolucao = string.IsNullOrEmpty(item.DtDevolucao) ? "" : item.DtDevolucao;}
                        @strDtDevolucao
                    </td>
                    <td>
                        @item.DtLimiteDevolucao
                    </td>
                    <td>
                        <a href=@("/Locacao/Devolver/" + item.IdLocacao.ToString()) role="button" class="btn btn-success btn-sm">
                            <i class="glyphicon glyphicon-pencil"></i> Devolver
                        </a>
                        <a href=@("/Locacao/Editar/" + item.IdLocacao.ToString()) role="button" class="btn btn-outline-success btn-sm">
                            <i class="glyphicon glyphicon-pencil"></i> Editar
                        </a>
                    </td>
                </tr>
                }
            </tbody>
        </table>
    </div>
</div>